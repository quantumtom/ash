<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/domReady.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/domReady.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */
/*jslint */
/*global require: false, define: false, requirejs: false,
 window: false, clearInterval: false, document: false,
 self: false, setInterval: false */


define(function () {
  'use strict';

  var isTop, testDiv, scrollIntervalId,
      isBrowser = typeof window !== "undefined" &amp;&amp; window.document,
      isPageLoaded = !isBrowser,
      doc = isBrowser ? document : null,
      readyCalls = [];

  function runCallbacks(callbacks) {
    var i;
    for (i = 0; i &lt; callbacks.length; i += 1) {
      callbacks[i](doc);
    }
  }

  function callReady() {
    var callbacks = readyCalls;

    if (isPageLoaded) {
      //Call the DOM ready callbacks
      if (callbacks.length) {
        readyCalls = [];
        runCallbacks(callbacks);
      }
    }
  }

  /**
   * Sets the page as loaded.
   */
  function pageLoaded() {
    if (!isPageLoaded) {
      isPageLoaded = true;
      if (scrollIntervalId) {
        clearInterval(scrollIntervalId);
      }

      callReady();
    }
  }

  if (isBrowser) {
    if (document.addEventListener) {
      //Standards. Hooray! Assumption here that if standards based,
      //it knows about DOMContentLoaded.
      document.addEventListener("DOMContentLoaded", pageLoaded, false);
      window.addEventListener("load", pageLoaded, false);
    } else if (window.attachEvent) {
      window.attachEvent("onload", pageLoaded);

      testDiv = document.createElement('div');
      try {
        isTop = window.frameElement === null;
      } catch (e) {}

      //DOMContentLoaded approximation that uses a doScroll, as found by
      //Diego Perini: http://javascript.nwbox.com/IEContentLoaded/,
      //but modified by other contributors, including jdalton
      if (testDiv.doScroll &amp;&amp; isTop &amp;&amp; window.external) {
        scrollIntervalId = setInterval(function () {
          try {
            testDiv.doScroll();
            pageLoaded();
          } catch (e) {}
        }, 30);
      }
    }

    //Check if document already complete, and if so, just trigger page load
    //listeners. Latest webkit browsers also use "interactive", and
    //will fire the onDOMContentLoaded before "interactive" but not after
    //entering "interactive" or "complete". More details:
    //http://dev.w3.org/html5/spec/the-end.html#the-end
    //http://stackoverflow.com/questions/3665561/document-readystate-of-interactive-vs-ondomcontentloaded
    //Hmm, this is more complicated on further use, see "firing too early"
    //bug: https://github.com/requirejs/domReady/issues/1
    //so removing the || document.readyState === "interactive" test.
    //There is still a window.onload binding that should get fired if
    //DOMContentLoaded is missed.
    if (document.readyState === "complete") {
      pageLoaded();
    }
  }

  /** START OF PUBLIC API **/

  /**
   * Registers a callback for DOM ready. If DOM is already ready, the
   * callback is called immediately.
   * @param {Function} callback
   */
  function domReady(callback) {
    if (isPageLoaded) {
      callback(doc);
    } else {
      readyCalls.push(callback);
    }
    return domReady;
  }

  domReady.version = '2.0.1';

  /**
   * Loader Plugin API method
   */
  domReady.load = function (name, req, onLoad, config) {
    if (config.isBuild) {
      onLoad(null);
    } else {
      domReady(onLoad);
    }
  };

  /** END OF PUBLIC API **/

  return domReady;
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-controllers_accordion.html">controllers/accordion</a></li><li><a href="module-data_accordion.html">data/accordion</a></li><li><a href="module-data_base.html">data/base</a></li><li><a href="module-data_buttons.html">data/buttons</a></li><li><a href="module-data_carousel.html">data/carousel</a></li><li><a href="module-data_containers.html">data/containers</a></li><li><a href="module-data_dialogs.html">data/dialogs</a></li><li><a href="module-data_forms.html">data/forms</a></li><li><a href="module-data_home.html">data/home</a></li><li><a href="module-data_indicators.html">data/indicators</a></li><li><a href="module-data_navbar.html">data/navbar</a></li><li><a href="module-data_navs.html">data/navs</a></li><li><a href="module-data_progressbars.html">data/progressbars</a></li><li><a href="module-data_tables.html">data/tables</a></li><li><a href="module-data_typography.html">data/typography</a></li><li><a href="module-views_accordion.html">views/accordion</a></li></ul><h3>Global</h3><ul><li><a href="global.html#requirejs">requirejs</a></li><li><a href="global.html#toUrl">toUrl</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Mar 16 2016 16:30:49 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
